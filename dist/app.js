(()=>{"use strict";const e=class{constructor(){this.Spt="引",this.Sign="配",this.keys=["连翘","银花","麻黄","苦杏仁","石膏","板蓝根","贯众","鱼腥草","红景天","薄荷脑","藿香","大黄","甘草","淀粉"],this.keyInd=2}encode(e){var t;if((e=this._trim(e)).length<1)return"";this.keyInd=Math.floor(11*Math.random())+this.keyInd;let n="";for(let s of e)s.charCodeAt(0)<128?n+=(null===(t=s.codePointAt(0))||void 0===t?void 0:t.toString(16))||"":n+=encodeURIComponent(s).replace(/%/g,"").toUpperCase();let s="";for(let e of n){const t=Number.parseInt(e,16)-this.keyInd;t<0&&(s+=this.Sign),s+=this.keys[Math.abs(t)]}return this.keys[this.keyInd]+this.Spt+s}decode(e){if((e=this._trim(e)).length<1||e.indexOf(this.Spt)<0)return"";let t,n=e.split(this.Spt);if(n.length<1)return"";if(this.keyInd=this.keys.indexOf(n[0]),this.keyInd<0)return"";for(let e in this.keys)t=new RegExp(this.keys[e],"g"),n[1]=n[1].replace(t,e+",");t=new RegExp(this.Sign,"g"),n[1]=n[1].replace(t,"-"),n[1]=n[1].substring(0,n[1].lastIndexOf(","));let s=n[1].split(","),i=!0,r="";for(let e=0;e<s.length;e++)r+=(i?"%":"")+(Number.parseInt(s[e])+this.keyInd).toString(16).toUpperCase(),i=!i;return decodeURIComponent(r)}_trim(e){return e.replace(/(^\s*)|(\s*$)/g,"")}};let t=document.getElementById("sAreaText"),n=document.getElementById("tAreaText"),s=document.getElementById("encode"),i=document.getElementById("decode");s.addEventListener("click",(n=>{let s=(null==t?void 0:t.value)||"";if(s.length<1)return;const i=new e;document.getElementById("tAreaText").value=i.encode(s)||""})),i.addEventListener("click",(t=>{let s=(null==n?void 0:n.value)||"";if(s.length<1)return;const i=new e;document.getElementById("sAreaText").value=i.decode(s)||""})),t.addEventListener("dblclick",(e=>{t.select()})),n.addEventListener("dblclick",(e=>{n.select()}))})();